<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/style.css" /> 

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/flipit.js"></script>
    <script type="text/javascript" src="js/drawflipit.js"></script>


    <!-- Start flipit.js once the document loads -->
    <script type="text/javascript">
      $(document).ready(function(){

        var numTicksShort = 1000;
        var msPerTickFast = 1;
        

        // Setup computer game
        var g1Conf = new RenderSettings( $("#gameBoard1") ); 
        g1Conf.numticks = numTicksShort;
        var g1Draw = new FlipItRenderEngine( g1Conf );

        var g1 = new FlipItGame( g1Draw, 
          Players["randomPlayer"], Players["periodicPlayer"] );
        
        g1.newGame();
        g1.start( msPerTickFast, numTicksShort );

        // Setup player game
        var msPerTickSlow = 10;
                var numTicksLong = 2000;

        var g2conf = new RenderSettings( $("#gameBoard2") ); 

        //g2Settings.player = "X";
        g2conf.fogOfWar = true;
        g2conf.numTicks = numTicksLong;

        var g2Draw = new FlipItRenderEngine( g2conf );
        var sb = new ScoreBoard( $("#scoreBoard"), g2conf.xColor, g2conf.yColor );        
        var g2 = new FlipItGame( g2Draw, 
          Players["humanPlayer"], Players["randomPlayer"], sb.update );

        g2.newGame();
        sb.update(0, 0);
        
        //setup buttons
        $("#startBtn").click( function() {
          sb.update(0, 0);
          g2.start( msPerTickSlow, numTicksLong );
        });

        $("#flipBtn").click( function() {
          g2.defenderFlip();
          sb.update( g2.xScore, g2.yScore );
        });

        var g3Conf = new RenderSettings( $("#gameBoard3") ); 
        var g3Draw = new FlipItRenderEngine( g3Conf );
        g3Draw.newBoard();
        g3Draw.drawBoard(1000, {300: "X", 500: "Y", 900: "X"});

      });
    </script>

  </head>

  <title>FlipIt - The Game of Stealthy Takeover</title>
  <body>
    
    <div id="top_panel">
      <h1 id="title">FlipIt - The Game of Stealthy Takeover</h1>
    </div>


    <div id="aboutPanel">
      <h2 id="aboutTitle">Example 1: Computer against computer.</h2>
      <code>
      <!-- 
      <canvas id="gameBoard1" width="800" height="150"></canvas>

      <script>
        var numTicksShort = 1000;
        var msPerTickFast = 1;
              
        var gConf = new RenderSettings( $("#gameBoard") ); 
        gConf.numticks = numTicksShort;
        var gDraw = new FlipItRenderEngine( gConf );

        var g = new FlipItGame( gDraw, 
          Players["randomPlayer"], Players["periodicPlayer"] );
              
        g.newGame();
        g.start( msPerTickFast, numTicksShort );
      </script>
      -->
      </code>
    </div>

    <canvas id="gameBoard1" width="800" height="150"></canvas>

    <div id="directions_panel">
      <h2 id="howTitle">Example 2: Play against the computer.</h2>
    </div>

    <div id="scoreBoard"></div>
    <canvas id="gameBoard2" width="800" height="150"></canvas>
    <button id="startBtn">Start</button> to play as the blue player
    <button id="flipBtn">Flip</button> to flip.


    <div id="directions_panel">
      <h2 id="howTitle">Example 3: Draw previous games.</h2>
    </div>

    <canvas id="gameBoard3" width="800" height="150"></canvas>



  </body>
</html>